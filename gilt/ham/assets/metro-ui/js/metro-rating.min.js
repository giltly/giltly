(function(a){a.widget("metro.rating",{version:"1.0.0",options:{score:0,half:false,stars:5,"static":true,hints:["bad","poor","regular","good","gorgeous"],showHint:false,showScore:false,scoreHint:"Current score: ",click:function(){}},_create:function(){var b=this,a=this.element;if(a.data("score")!=undefined)this.options.score=a.data("score");if(a.data("half")!=undefined)this.options.half=a.data("half");if(a.data("stars")!=undefined)this.options.stars=a.data("stars");if(a.data("showHint")!=undefined)this.options.showHint=a.data("showHint");if(a.data("static")!=undefined)this.options.static=a.data("static");if(a.data("showScore")!=undefined)this.options.showScore=a.data("showScore");if(a.data("scoreHint")!=undefined)this.options.scoreHint=a.data("scoreHint");this._showRating()},rate:function(a){this.options.score=a;this._showRating()},_showRating:function(){var g=this,c=this.element,b=this.options,f,d;c.addClass("rating");c.html("");f=a("<ul/>");!b.static&&c.addClass("active");for(var e=0;e<b.stars;e++){d=a("<li/>");d.data("value",e+1);b.showHint&&d.attr("title",b.hints[e]);e<=b.score-1&&d.addClass("rated");d.on("click",function(){b.click(a(this).data("value"),g)});d.appendTo(f)}f.appendTo(c);if(b.showScore)a("<span/>").addClass("score-hint").html(b.scoreHint+b.score).appendTo(c);else c.find("ul").css("margin-bottom",0)},_destroy:function(){},_setOption:function(b,a){this._super("_setOption",b,a)}})})(jQuery);$(function(){$("[data-role=rating]").rating()});