(function(a){a.widget("metro.datepicker",{version:"1.0.0",options:{format:"dd.mm.yyyy",date:undefined,effect:"none",position:"bottom",selected:function(){},_calendar:undefined},_create:function(){var c=this,b=this.element,e=b.children("input"),d=b.children("button.btn-date");if(b.data("date")!=undefined)this.options.date=b.data("date");if(b.data("format")!=undefined)this.options.format=b.data("format");if(b.data("effect")!=undefined)this.options.effect=b.data("effect");if(b.data("position")!=undefined)this.options.position=b.data("position");this._createCalendar(b,this.options.date);e.attr("readonly",true);d.on("click",function(a){a.stopPropagation();if(c.options._calendar.css("display")=="none")c._show();else c._hide()});b.on("click",function(a){a.stopPropagation();if(c.options._calendar.css("display")=="none")c._show();else c._hide()});a("html").on("click",function(){a(".calendar-dropdown").hide()})},_createCalendar:function(d,e){var b,c=this;b=a("<div/>").css({position:"absolute",display:"none","max-width":260,"z-index":1e3}).addClass("calendar calendar-dropdown").appendTo(d);c.options.date!=undefined&&b.data("date",c.options.date);b.calendar({multiSelect:false,format:c.options.format,buttons:false,click:function(e,a){b.calendar("setDate",a);d.children("input[type=text]").val(e);c.options.selected(e,a);c._hide()}});if(e!=undefined){b.calendar("setDate",e);d.children("input[type=text]").val(b.calendar("getDate"))}switch(this.options.position){case"top":b.css({top:0-b.height(),left:0});break;default:b.css({top:"100%",left:0})}this.options._calendar=b},_show:function(){if(this.options.effect=="slide"){a(".calendar-dropdown").slideUp("fast");this.options._calendar.slideDown("fast")}else if(this.options.effect=="fade"){a(".calendar-dropdown").fadeOut("fast");this.options._calendar.fadeIn("fast")}else{a(".calendar-dropdown").hide();this.options._calendar.show()}},_hide:function(){if(this.options.effect=="slide")this.options._calendar.slideUp("fast");else if(this.options.effect=="fade")this.options._calendar.fadeOut("fast");else this.options._calendar.hide()},_destroy:function(){},_setOption:function(b,a){this._super("_setOption",b,a)}})})(jQuery);$(function(){$("[data-role=datepicker]").datepicker()});